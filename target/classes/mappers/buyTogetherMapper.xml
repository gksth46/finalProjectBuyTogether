<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.buy.together.mappers.buyTogetherMapper">

	<!-- 같이사냥 리스트 조회 -->
	<select id="buyTogetherList" resultType="com.buy.together.dto.BuyTogetherDTO">
		select bt.buytogether_number, bt.title, bt.content, bt.writeDate, bt.updateDate, bt.duedate, bt.joinin_number,
				bt.price, addr.longitude, addr.latitude, addr.buytogether_address_sido, addr.buytogether_address_sigungu, c.category_name,
				u.nickname, u.reputation, hs.status_name, ht.hunting_type
		from buytogether bt, buytogetheraddress addr, huntingtype ht,
			 huntingstatus hs, category c, user u
		where addr.buytogether_number = bt.buytogether_number and hs.status_number = bt.status_number and
			  ht.hunting_type_number = bt.hunting_type_number and c.category_number = bt.category_number and
			  bt.user_number = u.user_number
		order by buytogether_number desc
	</select>
	
	<!-- 같이사냥 게시글의 사진조회 -->
	<select id="photoList" resultType="attachedPhoto">
		select *
		from attachedphoto
		where board_type_number = 5 and buytogether_number = #{buytogether_number}
		order by photo_number desc
	</select>
</mapper>


